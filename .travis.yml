language: java
jdk:
- oraclejdk8
before_script:
- if [[ $TRAVIS_COMMIT_MESSAGE == *"[ci-ext]"* ]]; then bash
  updateCleanVersion.sh --emulation-mode; mv mooltipass-extension.zip ./sauce_labs_tests/chrome_extension.crx;
  cd ./sauce_labs_tests; fi;
env:
  matrix:
  - TEST_SUITE=Tests.feature
  global:
  - SAUCE_USERNAME: mooltipass
  - secure: "s6s0RT76zzthakJBaw+zOZC9QnvqV4s9zyhGd3Mgp8QXrH6b3TKNxQyx+clLM09HtaUwEqHXFX9fNuf5G8+MxFEMmO0vl7F+7xsMjfBDR2c2RkEbmejC4QeXaDv0SqBOwPw0mWvYFLU5jOazYbFvkRHOcuPqtN9H2MtAUmdU7GQH347cEwAEFQB4+3x1PwPW99g99e+6CACCYySbL7D9OFzutTDXTMnmEzLgKas/prsGRv9oIoKTiMoYeq8RwF1rLylwzF0yndXgwxeYh0TseP23zLsmRnZF8I23ITVI3ZAfhPw+5Ln1LJjOhJoqytKj25U4rKY3r6AXatFTC+4ovhHmou5CKcd5Mbvo1CwoOzwhmWopUtUodiVbYXEfwDvi2ldA5MspD0sk20cRK7FTD2R+30nLp56kKETrSJ071MD2P7KHPK+3qZ0P6DyW2UUMkkkKz86YfrrgEjIBpAsUeAoHDdxzn7U7IclFpmcu9UaXBCltQCR1RE4+ev0s/P/yK3Yc9yviLaPVSmLEtQrPtvB5D0T+YmAQOI6KtbGSPid0z/tepTKFwMLERR/ny3saRRIWFV6WL875DqPfIXGMUOjUGlbeIm//MQ86PcS6Nv6SUDB3psk8/FjSNsVSbxtxILTlfgu6OF4fKGssEeD5u6kQrozyBgQUgfz4PNFujy8="
 script:
- if [[ $TRAVIS_COMMIT_MESSAGE == *"[ci-ext-quiet]"* ]]; then mvn clean install -q -Dcucumber.options="src/test/resources/mooltipass/automatedTests/features/$TEST_SUITE"; fi;
  if [[ $TRAVIS_COMMIT_MESSAGE == *"[ci-ext]"* ]]; then mvn clean test -Dcucumber.options="src/test/resources/mooltipass/automatedTests/features/$TEST_SUITE"; fi;
